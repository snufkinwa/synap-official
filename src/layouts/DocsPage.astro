---
import Layout from './Layout.astro';
import Navigation from '../components/Navigation.astro';

interface Props {
  title?: string;
  heading?: string;
}

const { title = 'Docs - Synaptik Core', heading = 'Documentation' } = Astro.props as Props;

const pathname = Astro.url.pathname;

const nav = [
  { href: '/docs/get-started', label: 'Get Started' },
  { href: '/docs/python', label: 'Python Library' },
  { href: '/docs/rust', label: 'Rust Crate' },
  { href: '/docs/mcp', label: 'MCP' },
  { href: '/docs/examples', label: 'Examples' },
];
---

<Layout title={title}>
	<Navigation activePage="docs" />

	<!-- Hero Section with Line Pattern Background -->
	<div class="relative min-h-screen overflow-hidden bg-stone-50 flex flex-col">
		<!-- Animated Line Pattern Background -->
		<div class="absolute inset-0 opacity-20">
			<svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
				<defs>
					<pattern id="lines" x="0" y="0" width="100%" height="100%">
						<line x1="0" y1="0" x2="100%" y2="100%" stroke="#666" stroke-width="0.5" opacity="0.3"/>
						<line x1="0" y1="10%" x2="95%" y2="100%" stroke="#666" stroke-width="0.5" opacity="0.25"/>
						<line x1="0" y1="20%" x2="90%" y2="100%" stroke="#666" stroke-width="0.5" opacity="0.2"/>
						<line x1="0" y1="30%" x2="85%" y2="100%" stroke="#666" stroke-width="0.5" opacity="0.15"/>
						<line x1="5%" y1="0" x2="100%" y2="95%" stroke="#666" stroke-width="0.5" opacity="0.25"/>
						<line x1="10%" y1="0" x2="100%" y2="90%" stroke="#666" stroke-width="0.5" opacity="0.2"/>
						<line x1="15%" y1="0" x2="100%" y2="85%" stroke="#666" stroke-width="0.5" opacity="0.15"/>
					</pattern>
				</defs>
				<rect width="100%" height="100%" fill="url(#lines)" />
			</svg>
		</div>

		<!-- Content -->
		<main class="relative z-10 w-full max-w-6xl mx-auto px-6 pt-28 pb-16 flex-grow">
			<div class="flex flex-col md:flex-row gap-8">
				<!-- Sidebar -->
				<aside class="md:sticky md:top-24 self-start w-full md:w-[240px] md:min-w-[240px] md:max-w-[240px] shrink-0">
					<nav class="w-full box-border rounded-lg border border-gray-200 bg-white/70 backdrop-blur-sm p-3">
						<ul class="space-y-1">
							{nav.map(({ href, label }) => {
								const active = pathname === href;
								return (
									<li>
									<a href={href} class={`w-full flex items-center h-9 px-3 rounded-md text-sm whitespace-nowrap overflow-hidden text-ellipsis ${active ? 'bg-gray-900 text-white' : 'text-gray-800 hover:bg-gray-100'}`}>
											{label}
										</a>
									</li>
								);
							})}
						</ul>
					</nav>
				</aside>

				<!-- Main doc content -->
				<section class="flex-1 min-w-0 max-w-[calc(100%-240px-2rem)] md:max-w-none">
					<!-- Beta banner -->
					<div class="mb-5 rounded-md border border-yellow-300 bg-yellow-50 text-yellow-900 px-3 py-2 text-sm">
						⚠️ These are Synaptik Core β docs (v0.1). APIs and structure may change.
					</div>

					<header class="mb-6">
						<h1 class="text-4xl md:text-5xl font-bold leading-tight">{heading}</h1>
					</header>

					<div class="prose prose-stone max-w-none">
						<slot />
					</div>
				</section>
			</div>
		</main>

		<!-- Footer -->
		<footer class="relative z-10 py-8 text-center text-sm text-gray-500 border-t border-gray-200">
			© 2025 Synaptik Core
		</footer>
	</div>
</Layout>

<style>
  .prose :where(code):not(:where(pre code)) {
    background-color: rgba(0,0,0,0.05);
    padding: 0.15rem 0.35rem;
    border-radius: 0.25rem;
  }
</style>
